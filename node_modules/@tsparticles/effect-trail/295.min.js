/*! For license information please see 295.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_effect_trail=this.webpackChunk_tsparticles_effect_trail||[]).push([[295],{295:(t,a,i)=>{i.d(a,{TrailDrawer:()=>r});var e=i(533);const l=.5;class r{async draw(t){const{context:a,radius:i,particle:e}=t,r=2*i,n=e.container.retina.pixelRatio,o=e.getPosition();if(!e.trail||!e.trailLength)return;const s=e.trailLength+i;if(e.trail.push({color:a.fillStyle??a.strokeStyle,position:{x:o.x,y:o.y}}),e.trail.length<2)return;for(;e.trail.length>s;)e.trail.shift();const h=Math.min(e.trail.length,s),c=o.x,x=o.y,d=e.container.canvas.size.width+r,g=e.container.canvas.size.height+r;let y=e.trail[h-1].position;const p=1,f=0,m=0,M=1;a.setTransform(p,f,m,M,o.x,o.y);for(let t=h;t>0;t--){const i=e.trail[t-1],o=i.position;a.beginPath(),a.moveTo(y.x-c,y.y-x);const s={x:(y.x+d)%d,y:(y.y+g)%g};if(Math.abs(y.x-o.x)>d*l||Math.abs(y.y-o.y)>g*l){y=o;continue}a.lineTo((Math.abs(y.x-o.x)>d*l?s.x:o.x)-c,(Math.abs(y.y-o.y)>g*l?s.y:o.y)-x);const p=Math.max(t/h*r,n,e.trailMinWidth??-1),f=a.globalAlpha;a.globalAlpha=e.trailFade?t/h:1,a.lineWidth=e.trailMaxWidth?Math.min(p,e.trailMaxWidth):p,a.strokeStyle=i.color,a.stroke(),a.globalAlpha=f,y=o}const{transformData:b}=t;a.setTransform(b.a,b.b,b.c,b.d,o.x,o.y),await Promise.resolve()}async particleInit(t,a){a.trail=[];const i=a.effectData;a.trailFade=i?.fade??!0,a.trailLength=(0,e.getRangeValue)(i?.length??10)*t.retina.pixelRatio,a.trailMaxWidth=i?.maxWidth?(0,e.getRangeValue)(i.maxWidth)*t.retina.pixelRatio:void 0,a.trailMinWidth=i?.minWidth?(0,e.getRangeValue)(i.minWidth)*t.retina.pixelRatio:void 0,await Promise.resolve()}}}}]);