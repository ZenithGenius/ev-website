/*! For license information please see 704.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_updater_orbit=this.webpackChunk_tsparticles_updater_orbit||[]).push([[704],{704:(t,i,o)=>{o.d(i,{OrbitUpdater:()=>d});var a=o(533);class e extends a.ValueWithRandom{constructor(){super(),this.value=45}load(t){void 0!==t&&super.load(t)}}class r{constructor(){this.animation=new a.AnimationOptions,this.enable=!1,this.opacity=1,this.rotation=new e,this.width=1}load(t){t&&(this.animation.load(t.animation),this.rotation.load(t.rotation),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.opacity&&(this.opacity=(0,a.setRangeValue)(t.opacity)),void 0!==t.width&&(this.width=(0,a.setRangeValue)(t.width)),void 0!==t.radius&&(this.radius=(0,a.setRangeValue)(t.radius)),void 0!==t.color&&(this.color=a.OptionsColor.create(this.color,t.color)))}}const n=2*Math.PI,s=.5*Math.PI,l=Math.PI+s;class d{constructor(t){this.container=t}afterDraw(t){const i=t.options.orbit;i?.enable&&this.drawOrbit(t,"front")}beforeDraw(t){const i=t.options.orbit;i?.enable&&this.drawOrbit(t,"back")}drawOrbit(t,i){const o=this.container;let e,r;switch(i){case"back":e=s,r=l;break;case"front":e=l,r=s;break;default:e=0,r=n}o.canvas.draw((i=>{!function(t,i,o,e,r,n,s,l,d){if(n<=0)return;const b=i.getPosition();o&&(t.strokeStyle=(0,a.getStyleFromHsl)(o,r)),t.lineWidth=n;const c=(0,a.degToRad)(s);t.beginPath(),t.ellipse(b.x,b.y,.5*e,2*e,c,l,d),t.stroke()}(i,t,t.orbitColor??t.getFillColor(),t.retina.orbitRadius??o.retina.orbitRadius??t.getRadius(),t.orbitOpacity??1,t.orbitWidth??1,(t.orbitRotation??0)*o.retina.pixelRatio,e,r)}))}async init(t){const i=this.container,o=t.options.orbit;o?.enable&&(t.orbitRotation=(0,a.getRangeValue)(o.rotation.value),t.orbitColor=(0,a.rangeColorToHsl)(o.color),t.retina.orbitRadius=void 0!==o.radius?(0,a.getRangeValue)(o.radius)*i.retina.pixelRatio:void 0,i.retina.orbitRadius=t.retina.orbitRadius,t.orbitAnimationSpeed=o.animation.enable?(0,a.getRangeValue)(o.animation.speed):0,t.orbitWidth=(0,a.getRangeValue)(o.width),t.orbitOpacity=(0,a.getRangeValue)(o.opacity),await Promise.resolve())}isEnabled(t){const i=t.options.orbit?.animation;return!t.destroyed&&!t.spawning&&!!i?.enable}loadOptions(t,...i){t.orbit||(t.orbit=new r);for(const o of i)t.orbit.load(o?.orbit)}async update(t,i){this.isEnabled(t)&&(void 0===t.orbitRotation&&(t.orbitRotation=0),t.orbitRotation+=(t.orbitAnimationSpeed??0/n)*i.factor,await Promise.resolve())}}}}]);